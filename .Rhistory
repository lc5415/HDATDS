?quit
load("~/OneDrive - Imperial College London/ExtratimeWork/COVID19/EDA/EDA.Rproj")
getwd()
getwd()
getwd()
getwd()
ls
install.packages("roxygen2")
install.packages("devtools")
devtools::use_package
Sys.info()
sessionInfo()
bio.dict = readxl::read_xlsx("/Users/luischavesrodriguez/OneDrive\ -\ Imperial\ College\ London/MScHDA/Term2/TDS/Project/Biomarker_annotation.xlsx")
devtools::update_packages()
install.packages("devtools")
install.packages("devtools")
devtools::use_data()
library(devtools)
use_data(bio.dict)
devtools::load_all()
devtools::load_all()
devtools::load_all()
data(HDATDS)
source('~/OneDrive - Imperial College London/MScHDA/Term2/TDS/Project/Scripts/BHS.R', echo=TRUE)
BHSCalculator("Paper")
getwd()
setwd("~/OneDrive - Imperial College London/ExtratimeWork/HDATDS")
setwd("~/OneDrive - Imperial College London/MScHDA/Term2/TDS/Project")
bio.dict = readxl::read_xlsx("Biomarker_annotation.xlsx")
bio.dict$`Biomarker name` = make.names(bio.dict$`Biomarker name`)
bio.dict$`Biomarker name` = sub("\\.\\.",".",
bio.dict$`Biomarker name`)
View(bio.dict)
setwd("~/OneDrive - Imperial College London/ExtratimeWork/HDATDS")
use_data(bio.dict)
use_data(bio.dict, overwrite = T)
library(tidyverse)
library(ggpubr)
cluster = 0
platform = Sys.info()['sysname']
if (platform=='Linux'){
save_data = data_folder = "../FULLDATA/preprocessed/"
save_plots = "../FULLResults/"
} else {
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
save_data = data_folder = "../data/preprocessed/"
save_plots = "../results/"
}
ifelse(!dir.exists(file.path(save_plots, "BHS/")), dir.create(file.path(save_plots, "BHS/")), FALSE)
save_plots = paste0(save_plots,"BHS/")
#### ADD COMPARISONS BY SUBGROUP and add some more comments
bio = readRDS(paste0(data_folder,"bioProcessed.rds"))
bio.imp = readRDS(paste0(data_folder,"bioImputedKNN.rds"))
cov = readRDS(paste0(data_folder,"covProcessed.rds"))
# bio.dict = readxl::read_xlsx("../Biomarker_annotation.xlsx")
#
# # make pretty names
# bio.dict$`Biomarker name` = make.names(bio.dict$`Biomarker name`)
# bio.dict$`Biomarker name` = sub("\\.\\.",".",
#                                 bio.dict$`Biomarker name`)
# for simplicity we merge cov and bio here
bio.imp = merge(bio.imp, cov[,c("ID","age_cl","gender")], by = "ID")
ids = bio.imp$ID # wanna keep an explicit copy od the IDs
rownames(bio.imp) = bio.imp[,1]
bio.imp = bio.imp[,-1]
bio.imp$age_cl = as.factor(bio.imp$age_cl)
bio.imp$gender = as.factor(bio.imp$gender)
BHSCalculator("Mantej", T)
setwd("~/OneDrive - Imperial College London/ExtratimeWork/HDATDS")
PWD
getwd()
devtools::document()
devtools::load_all()
BHSCalculator(bio.imp, "Mantej")
system.file("extdata", "bio.dict.rda", package = "HDATDS")
load(system.file("extdata", "bio.dict.rda", package = "HDATDS"))
View(bio.dict)
View(bio.dict)
typeof(bio.dict)
class(bio.dict)
devtools::load_all()
BHSCalculator(bio.imp, "Mantej")
debugSource('~/OneDrive - Imperial College London/ExtratimeWork/HDATDS/R/BHS.R', echo=TRUE)
BHSCalculator(bio.imp, "Mantej")
force(dataset)
force(reference)
load("data/bio.dict.rda")
View(bio.dict)
debugSource('~/OneDrive - Imperial College London/ExtratimeWork/HDATDS/R/BHS.R', echo=TRUE)
BHSCalculator(bio.imp, "Mantej")
HDATDS::bio.dict
debugSource('~/OneDrive - Imperial College London/ExtratimeWork/HDATDS/R/BHS.R', echo=TRUE)
debugSource('~/OneDrive - Imperial College London/ExtratimeWork/HDATDS/R/BHS.R', echo=TRUE)
BHSCalculator(bio.imp, "Mantej")
remove(bio.dict)
BHSCalculator(bio.imp, "Mantej")
debugSource('~/OneDrive - Imperial College London/ExtratimeWork/HDATDS/R/BHS.R', echo=TRUE)
BHSCalculator(bio.imp, "Mantej")
devtools::load_all()
BHSCalculator(bio.imp, "Mantej")
BHSCalculator(bio.imp, "Mantej",T)
source('~/OneDrive - Imperial College London/ExtratimeWork/HDATDS/R/BHS.R', echo=TRUE)
devtools::load_all()
BHSCalculator(bio.imp, "Mantej", T)
devtools::load_all()
getwd()
devtools::document()
?BHScalculator
?ggplot
?table
?quantile_check
devtools::document()
devtools::document()
devtools::document()
getwd()
library(tidyverse)
library(ggpubr)
cluster = 0
platform = Sys.info()['sysname']
if (platform=='Linux'){
save_data = data_folder = "../FULLDATA/preprocessed/"
save_plots = "../FULLResults/"
} else {
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
save_data = data_folder = "../data/preprocessed/"
save_plots = "../results/"
}
ifelse(!dir.exists(file.path(save_plots, "BHS/")), dir.create(file.path(save_plots, "BHS/")), FALSE)
save_plots = paste0(save_plots,"BHS/")
#### ADD COMPARISONS BY SUBGROUP and add some more comments
bio = readRDS(paste0(data_folder,"bioProcessed.rds"))
bio.imp = readRDS(paste0(data_folder,"bioImputedKNN.rds"))
setwd("~/OneDrive - Imperial College London/ExtratimeWork/HDATDS")
bio.example = bio.imp
str(bio.example)
library(devtools)
use_data(bio.example)
dirname(rstudioapi::getActiveDocumentContext()$path)
